### osx上编译安装bochs
```
brew install sdl2

./configure --enable-debugger --enable-disasm --with-sdl2
make && make install
```

### cygwin安装编译工具
```
# binutils
wget https://mirrors.tuna.tsinghua.edu.cn/gnu/binutils/binutils-2.36.1.tar.xz

./configure --target=x86_64-elf --program-prefix=x86_64-elf-

# gcc
apt-cyg install libgmp-devel libmpfr-devel libmpc-devel

[未成功]./configure --target=x86_64-elf --program-prefix=x86_64-elf-
```



### 字（word）的大小
字指的是cpu一次能够处理的位数，word的大小和cpu结构有关，32位cpu中一个word为32位，64位cpu中一个word为64位，在32位cpu中half-word为16位，与16位cpu中的一个word等长。



### 软盘的扇区

逻辑扇区号（logicSec）从0开始编号。

根据逻辑扇区号计算柱面号、磁头号（正反面）、扇区号，即CHS：

```bash
logicSec / SecsPerTrk = Trks … Sector

Trks / HeadCount = Cylinder … Head
```

SecsPerTrk - 每磁道的扇区数

HeadCount - 磁头数，对软盘来说就是2。

相邻的两个逻辑扇区在物理上是分布在不同的面上的，即逻辑扇区是交替排列在软盘两面的。

### 使用gdb+bochs远程调试内核
```bash
# bochs支持gdb
./configure --enable-gdb-stub

bochsrc:
gdbstub: enabled=1, port=1234, text_base=0, data_base=0, bss_base=0

gdb ./kernel/kernel.elf
(gdb) target remote :1234
(gdb) break xxx
```

### 指令前缀0x66和0x67
在x86指令集中，

0x66前缀的全称是Operand Size Override Prefix，用于翻转指令**操作数**的长度；

0x67前缀的全称是Address Size Override Prefix，用于翻转指令中**有效地址**的长度；
